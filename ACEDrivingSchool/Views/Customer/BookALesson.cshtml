@model ACEDrivingSchool.ViewModels.BookALessonViewModel
@{
    ViewBag.Title = "Book a lesson";
}

<h2>@ViewBag.Title</h2>
@using (Html.BeginForm("Save", "Customer"))
{ 
    <div class="form-group">
        @Html.LabelFor(l => l.Lesson.DateTimeOfLesson)
        
        @Html.TextBoxFor(l => l.Lesson.DateTimeOfLesson, "{0:d MMM yyyy}", new { @class = "form-control" })
        @Html.ValidationMessageFor(l => l.Lesson.DateTimeOfLesson, "", new { @class = "text-danger" })

    </div>

    <div class="form-group">
        @Html.LabelFor(l => l.Lesson.LessonTypeId)

        @Html.DropDownListFor(l => l.Lesson.LessonTypeId, new SelectList(Model.LessonTypes, "Id", "Name"), "Select Lesson Type", new { @class = "form-control" })
        @Html.ValidationMessageFor(l => l.Lesson.LessonTypeId, "", new { @class = "text-danger" })

    </div>

    <div class="form-group">
        @Html.LabelFor(l => l.Lesson.DurationId)

        @Html.DropDownListFor(l => l.Lesson.DurationId, new SelectList(Model.Durations, "Id", "Name"), "Select Duration", new { @class = "form-control" })
        @Html.ValidationMessageFor(l => l.Lesson.DurationId, "", new { @class = "text-danger" })

    </div>

    <div class="form-group">
        @Html.LabelFor(l => l.Lesson.TransmissionTypeId)

        @Html.DropDownListFor(l => l.Lesson.TransmissionTypeId, new SelectList(Model.TransmissionTypes, "Id", "Name"), "Select Transmission Type", new { @class = "form-control" })
        @Html.ValidationMessageFor(l => l.Lesson.TransmissionTypeId, "", new { @class = "text-danger" })

    </div>

    @Html.HiddenFor(l => l.Lesson.Id)
    @Html.AntiForgeryToken()

    <button name="submitButton" value="PayNow" type="submit" class="btn btn-primary">Pay now</button>
    <button name="submitButton" value="PayLater" type="submit" class="btn btn-primary">Pay Later</button>

}
@section scripts
{
    @Scripts.Render("~/bundles/jqueryval");
    <script>
        
        
        

            /*$("#PayNow").click(function(ev) {
                ev.preventDefault();


                console.log("FUCK YOU 1");

                $.ajax({
                    url: "../Customer/PayLesson"
                });

                $("#BookingForm").submit();

            });
            $("#PayLater").click(function(ev) {
                ev.preventDefault();

                console.log("FUCK YOU 2");

                

                $("#BookingForm").submit("Save");
            });*/

    </script>
}